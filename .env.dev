# ==============================================================================
# Development Environment Configuration
# ==============================================================================
# This file contains pre-configured values for local development.
# You only need to provide: Telegram bot token, API keys, and proxy settings.

# ==============================================================================
# Timezone
# ==============================================================================

TZ=Europe/Moscow

# ==============================================================================
# Application Ports
# ==============================================================================

OUTSIDERS_STARTUP_PORT=10000
OUTSIDERS_METRICS_PORT=10001


# ==============================================================================
# Persistence Layer
# ==============================================================================
# This section contains settings for the database and cache.

# --- PostgreSQL Configuration ---
# Documentation: https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING
POSTGRES_HOST=ximanager-postgres
POSTGRES_PORT=5432
POSTGRES_USER=ximanager
POSTGRES_PASSWORD=dev123
POSTGRES_DB=ximanager
POSTGRES_SSLMODE=disable
POSTGRES_TIMEZONE=Europe/Moscow

# --- Redis Configuration ---
# Documentation: https://redis.io/topics/config
REDIS_HOST=ximanager-redis
REDIS_PORT=6379
REDIS_PASSWORD=dev123
REDIS_DB=0
REDIS_MAX_RETRIES=5
REDIS_DIAL_TIMEOUT=5s

# ==============================================================================
# Telegram Bot
# ==============================================================================
# This section contains settings for the Telegram Bot API.

TELEGRAM_BOT_TOKEN=
TELEGRAM_DIPLOMAT_CHUNK_SIZE=4096
TELEGRAM_POLLER_TIMEOUT=120
TELEGRAM_POLLER_ALLOWED_UPDATES=message
TELEGRAM_POLLER_MAX_CONCURRENCY=5

# ==============================================================================
# AI Providers & Models
# ==============================================================================
# This section contains API keys and model configurations for various AI services.

# --- API Keys ---
# You can get your API keys from the respective provider websites.
OPENROUTER_API_KEY=
OPENAI_API_KEY=

# --- Model Configuration ---
WHISPER_MODEL=whisper-1
SPENDINGS_LIMIT_EXCEEDED_MODEL=openai/gpt-4o-mini
SPENDINGS_LIMIT_EXCEEDED_FALLBACK_MODELS=deepseek/deepseek-chat

# ==============================================================================
# Application Logic
# ==============================================================================
# This section contains settings for core application logic.

# --- Context Timeout ---
# Default timeout for application contexts.
CONTEXT_TIMEOUT=5s

# --- Throttler ---
# Sets the time limit for request throttling.
REQUEST_THROTTLE_LIMIT=5s

# --- Pins ---
# Limits for pinned messages.
PINS_LIMIT_DEFAULT=3
PINS_LIMIT_DONATED=10
PINS_LIMIT_CHAT=16

# ==============================================================================
# AI Tiers Configuration
# ==============================================================================
# This section defines the configuration for different user tiers (Bronze, Silver, Gold).

# --- Spending Limits ($) ---
SPENDINGS_BRONZE_DAILY_LIMIT="2.0"
SPENDINGS_BRONZE_MONTHLY_LIMIT="7.0"
SPENDINGS_SILVER_DAILY_LIMIT="3.7"
SPENDINGS_SILVER_MONTHLY_LIMIT="15.0"
SPENDINGS_GOLD_DAILY_LIMIT="5.0"
SPENDINGS_GOLD_MONTHLY_LIMIT="26.0"

# --- Bronze Tier ---
BRONZE_VISION_PRIMARY_MODEL=openai/chatgpt-4o-latest
BRONZE_VISION_FALLBACK_MODELS=
BRONZE_CONTEXT_TTL_SECONDS=1800
BRONZE_CONTEXT_MAX_MESSAGES=25
BRONZE_CONTEXT_MAX_TOKENS=40000
BRONZE_USAGE_VISION_DAILY=3
BRONZE_USAGE_VISION_MONTHLY=20
BRONZE_USAGE_DIALER_DAILY=40
BRONZE_USAGE_DIALER_MONTHLY=300
BRONZE_USAGE_WHISPER_DAILY=15
BRONZE_USAGE_WHISPER_MONTHLY=70

# --- Silver Tier ---
SILVER_VISION_PRIMARY_MODEL="openai/gpt-4.1"
SILVER_VISION_FALLBACK_MODELS=
SILVER_CONTEXT_TTL_SECONDS=7200
SILVER_CONTEXT_MAX_MESSAGES=40
SILVER_CONTEXT_MAX_TOKENS=70000
SILVER_USAGE_VISION_DAILY=7
SILVER_USAGE_VISION_MONTHLY=35
SILVER_USAGE_DIALER_DAILY=150
SILVER_USAGE_DIALER_MONTHLY=600
SILVER_USAGE_WHISPER_DAILY=30
SILVER_USAGE_WHISPER_MONTHLY=170

# --- Gold Tier ---
GOLD_VISION_PRIMARY_MODEL="openai/o1"
GOLD_VISION_FALLBACK_MODELS=
GOLD_CONTEXT_TTL_SECONDS=21600
GOLD_CONTEXT_MAX_MESSAGES=60
GOLD_CONTEXT_MAX_TOKENS=160000
GOLD_USAGE_VISION_DAILY=20
GOLD_USAGE_VISION_MONTHLY=100
GOLD_USAGE_DIALER_DAILY=300
GOLD_USAGE_DIALER_MONTHLY=1500
GOLD_USAGE_WHISPER_DAILY=140
GOLD_USAGE_WHISPER_MONTHLY=300

# ==============================================================================
# Proxy Configuration
# ==============================================================================
# This section contains settings for the proxy server.

PROXY_ADDRESS=
PROXY_USER=
PROXY_PASS=
# ==============================================================================
# Agent Configuration
# ==============================================================================
# REQUIRED: Provide your agent prompts (base64 encoded)

# Context Selection Agent Prompt (base64 encoded)
AGENT_CONTEXT_SELECTION_PROMPT=WW91IGFyZSBhIGNvbnRleHQgc2VsZWN0aW9uIGFnZW50LiBZb3VyIGpvYiBpcyB0byBhbmFseXplIGNvbnZlcnNhdGlvbiBoaXN0b3J5IGFuZCBkZXRlcm1pbmUgd2hpY2ggbWVzc2FnZXMgYXJlIHJlbGV2YW50IGZvciBhbnN3ZXJpbmcgYSBuZXcgdXNlciBxdWVzdGlvbi4KCkNvbnZlcnNhdGlvbiBoaXN0b3J5OgolcwoKTmV3IHVzZXIgcXVlc3Rpb246CiVzCgpBbmFseXplIHRoZSBjb252ZXJzYXRpb24gYW5kIGRldGVybWluZSB3aGljaCBtZXNzYWdlcyBmcm9tIHRoZSBoaXN0b3J5IGFyZSByZWxldmFudCB0byBhbnN3ZXJpbmcgdGhlIG5ldyBxdWVzdGlvbi4gQ29uc2lkZXI6CjEuIFRvcGljYWwgcmVsZXZhbmNlIC0gYXJlIHByZXZpb3VzIG1lc3NhZ2VzIGFib3V0IHRoZSBzYW1lIG9yIHJlbGF0ZWQgdG9waWM/CjIuIENvbnRleHQgZGVwZW5kZW5jeSAtIGRvZXMgdGhlIG5ldyBxdWVzdGlvbiByZWZlcmVuY2Ugb3IgYnVpbGQgdXBvbiBwcmV2aW91cyBtZXNzYWdlcz8gIAozLiBDb252ZXJzYXRpb24gZmxvdyAtIGFyZSB0aGVyZSBpbXBvcnRhbnQgY29udGV4dCBjbHVlcyBpbiByZWNlbnQgbWVzc2FnZXM/CjQuIFVzZXIgaW50ZW50IC0gaWYgdGhlIHVzZXIgZXhwbGljaXRseSBhc2tzIHRvICJyZW1lbWJlciIgb3IgImNvbnRpbnVlIiBzb21ldGhpbmcsIGluY2x1ZGUgcmVsZXZhbnQgaGlzdG9yeS4KCklmIHRoZSBuZXcgcXVlc3Rpb24gaXMgYWJvdXQgYSBjb21wbGV0ZWx5IGRpZmZlcmVudCB0b3BpYyBhbmQgZG9lc250IHJlZmVyZW5jZSBwcmV2aW91cyBjb252ZXJzYXRpb24sIHlvdSBtYXkgcmV0dXJuIGFuIGVtcHR5IGFycmF5LgoKUmV0dXJuIHlvdXIgcmVzcG9uc2UgYXMgSlNPTiBpbiB0aGlzIGV4YWN0IGZvcm1hdDoKewogICJyZWxldmFudF9pbmRpY2VzIjogW2FycmF5IG9mIG1lc3NhZ2UgaW5kaWNlcyB0aGF0IGFyZSByZWxldmFudCwgZS5nLiwgWzAsIDIsIDVdXSwKICAicmVhc29uaW5nIjogIkJyaWVmIGV4cGxhbmF0aW9uIG9mIHdoeSB0aGVzZSBtZXNzYWdlcyB3ZXJlIHNlbGVjdGVkIgp9Cg==

# Model Selection Agent Prompt  
AGENT_MODEL_SELECTION_PROMPT=WW91IGFyZSBhIG1vZGVsIHNlbGVjdGlvbiBhZ2VudC4gWW91ciBqb2IgaXMgdG8gYW5hbHl6ZSBhIHRhc2sgYW5kIHJlY29tbWVuZCB0aGUgb3B0aW1hbCBBSSBtb2RlbCBhbmQgcmVhc29uaW5nIGVmZm9ydC4NCg0KQXZhaWxhYmxlIG1vZGVscyBmb3IgdGhpcyB0aWVyOiAlcw0KRGVmYXVsdCByZWFzb25pbmcgZWZmb3J0IGZvciB0aGlzIHRpZXI6ICIlcyINClRpZXIgZGVzY3JpcHRpb246ICIlcyINCiVzDQoNCklNUE9SVEFOVDogDQotIFBSRUZFUiB0aWVyIG1vZGVscyBmb3IgcXVhbGl0eSwgY29tcGxleCwgb3IgaW1wb3J0YW50IHRhc2tzDQotIENvbnNpZGVyIGRvd25ncmFkZSBtb2RlbHMgT05MWSBmb3Igc2ltcGxlLCBxdWljaywgb3IgdHJpdmlhbCB0YXNrcw0KLSBXaGVuIGluIGRvdWJ0LCBjaG9vc2UgdGllciBtb2RlbHMgLSB0aGV5IHByb3ZpZGUgYmV0dGVyIHF1YWxpdHkNCg0KUmVjZW50IGNvbnZlcnNhdGlvbiBjb250ZXh0Og0KIiIiDQolcw0KIiIiDQoNCk5ldyB1c2VyIHRhc2s6DQoiIiINCiVzDQoiIiINCg0KQW5hbHl6ZSB0aGUgdGFzayBhbmQgcmVjb21tZW5kOg0KMS4gV2hpY2ggbW9kZWwgdG8gdXNlIChtdXN0IGJlIGZyb20gdGhlIGF2YWlsYWJsZSB0aWVyIG1vZGVscyBPUiBkb3duZ3JhZGUgbW9kZWxzIGlmIGxpc3RlZCkNCjIuIFdoYXQgcmVhc29uaW5nIGVmZm9ydCBsZXZlbCAobG93L21lZGl1bS9oaWdoKQ0KMy4gVGFzayBjb21wbGV4aXR5IGFzc2Vzc21lbnQNCjQuIFdoZXRoZXIgdXNlciBuZWVkcyBzcGVlZCB2cyBxdWFsaXR5DQo1LiBXaGV0aGVyIHRoaXMgYXBwZWFycyB0byBiZSB0cm9sbGluZy90ZXN0aW5nIGJlaGF2aW9yDQoNCkNvbnNpZGVyOg0KLSBDb21wbGV4IGNvZGluZywgYW5hbHlzaXMsIHJlc2VhcmNoIHRhc2tzIOKGkiBBTFdBWVMgdXNlIHRpZXIgbW9kZWxzICsgaGlnaGVyIHJlYXNvbmluZw0KLSBNZWRpdW0gY29tcGxleGl0eSB0YXNrcyDihpIgcHJlZmVyIHRpZXIgbW9kZWxzICsgbWVkaXVtIHJlYXNvbmluZw0KLSBTaW1wbGUgcXVlc3Rpb25zLCBxdWljayBhbnN3ZXJzIOKGkiBkb3duZ3JhZGUgbW9kZWxzIGFjY2VwdGFibGUgKyBsb3dlciByZWFzb25pbmcNCi0gVXNlciByZXF1ZXN0cyBmb3IgInF1aWNrIiBvciAiZmFzdCIg4oaSIGNvbnNpZGVyIGRvd25ncmFkZSBtb2RlbHMgaWYgdGFzayBpcyB0cnVseSBzaW1wbGUNCi0gVXNlciByZXF1ZXN0cyBmb3IgImRldGFpbGVkIiBvciAidGhvcm91Z2giIOKGkiBBTFdBWVMgdXNlIHRpZXIgbW9kZWxzICsgcHJpb3JpdGl6ZSBxdWFsaXR5DQotIE5vbnNlbnNpY2FsLCByZXBldGl0aXZlLCBvciBvYnZpb3VzbHkgdGVzdGluZyBxdWVyaWVzIOKGkiB1c2UgdHJvbGxpbmcgbW9kZWxzICglcykNCg0KUmV0dXJuIHlvdXIgcmVzcG9uc2UgYXMgSlNPTiBpbiB0aGlzIGV4YWN0IGZvcm1hdDoNCnsNCiAgInJlY29tbWVuZGVkX21vZGVsIjogImV4YWN0IG1vZGVsIG5hbWUgZnJvbSBhdmFpbGFibGUgbGlzdCIsDQogICJyZWFzb25pbmdfZWZmb3J0IjogImxvdy9tZWRpdW0vaGlnaCIsDQogICJ0YXNrX2NvbXBsZXhpdHkiOiAibG93L21lZGl1bS9oaWdoIiwNCiAgInJlcXVpcmVzX3NwZWVkIjogdHJ1ZS9mYWxzZSwNCiAgInJlcXVpcmVzX3F1YWxpdHkiOiB0cnVlL2ZhbHNlLA0KICAiaXNfdHJvbGxpbmciOiB0cnVlL2ZhbHNlDQp9

# Agent Configuration
AGENT_CONTEXT_MODEL=openai/gpt-4o-mini
AGENT_MODEL_SELECTION_MODEL=openai/gpt-4o-mini
AGENT_CONTEXT_TIMEOUT_SECONDS=45
AGENT_MODEL_TIMEOUT_SECONDS=30

# ==============================================================================
# Trolling Models Configuration
# ==============================================================================

TROLLING_MODELS=openai/gpt-4.1-mini,x-ai/grok-4-fast,x-ai/grok-4-fast:free

# Updated tier model configurations to match the new policies
# Models are listed from most capable to fastest/cheapest
GOLD_DIALER_MODELS=anthropic/claude-sonnet-4.5,anthropic/claude-sonnet-4,openai/gpt-5,google/gemini-2.5-pro,anthropic/claude-3.7-sonnet,openai/gpt-4.1
GOLD_DIALER_REASONING_EFFORT=high

SILVER_DIALER_MODELS=google/gemini-2.5-pro,anthropic/claude-3.7-sonnet,x-ai/grok-3,openai/gpt-4.1,x-ai/grok-4
SILVER_DIALER_REASONING_EFFORT=medium

BRONZE_DIALER_MODELS=anthropic/claude-3.5-sonnet,openai/gpt-4.1,google/gemini-2.5-flash
BRONZE_DIALER_REASONING_EFFORT=medium
