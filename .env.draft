# ==============================================================================
# Persistence Layer
# ==============================================================================
# This section contains settings for the database and cache.

# --- PostgreSQL Configuration ---
# Documentation: https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=ximanager
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=ximanager
POSTGRES_SSLMODE=disable
POSTGRES_TIMEZONE=UTC

# --- Redis Configuration ---
# Documentation: https://redis.io/topics/config
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0
REDIS_MAX_RETRIES=5
REDIS_DIAL_TIMEOUT=5s

# ==============================================================================
# Telegram Bot
# ==============================================================================
# This section contains settings for the Telegram Bot API.

TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_DIPLOMAT_CHUNK_SIZE=4096
TELEGRAM_POLLER_TIMEOUT=120
TELEGRAM_POLLER_ALLOWED_UPDATES=message
TELEGRAM_POLLER_MAX_CONCURRENCY=5

# ==============================================================================
# AI Providers & Models
# ==============================================================================
# This section contains API keys and model configurations for various AI services.

# --- API Keys ---
# You can get your API keys from the respective provider websites.
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENAI_API_KEY=your_openai_api_key_here

# --- Model Configuration ---
WHISPER_MODEL=whisper-1
SPENDINGS_LIMIT_EXCEEDED_MODEL=openai/gpt-4o-mini
SPENDINGS_LIMIT_EXCEEDED_FALLBACK_MODELS=deepseek/deepseek-chat

# ==============================================================================
# Application Logic
# ==============================================================================
# This section contains settings for core application logic.

# --- Context Timeout ---
# Default timeout for application contexts.
CONTEXT_TIMEOUT=5s

# --- Throttler ---
# Sets the time limit for request throttling.
REQUEST_THROTTLE_LIMIT=5s

# --- Pins ---
# Limits for pinned messages.
PINS_LIMIT_DEFAULT=3
PINS_LIMIT_DONATED=10
PINS_LIMIT_CHAT=16

# ==============================================================================
# AI Tiers Configuration
# ==============================================================================
# This section defines the configuration for different user tiers (Bronze, Silver, Gold).

# --- Spending Limits ($) ---
SPENDINGS_BRONZE_DAILY_LIMIT="2.0"
SPENDINGS_BRONZE_MONTHLY_LIMIT="7.0"
SPENDINGS_SILVER_DAILY_LIMIT="3.7"
SPENDINGS_SILVER_MONTHLY_LIMIT="15.0"
SPENDINGS_GOLD_DAILY_LIMIT="5.0"
SPENDINGS_GOLD_MONTHLY_LIMIT="26.0"

# --- Bronze Tier ---
BRONZE_DIALER_PRIMARY_MODEL=anthropic/claude-3.5-sonnet
BRONZE_DIALER_FALLBACK_MODELS="openai/gpt-4.1,google/gemini-2.5-flash"
BRONZE_DIALER_REASONING_EFFORT=medium
BRONZE_VISION_PRIMARY_MODEL=openai/chatgpt-4o-latest
BRONZE_VISION_FALLBACK_MODELS=
BRONZE_CONTEXT_TTL_SECONDS=1800
BRONZE_CONTEXT_MAX_MESSAGES=25
BRONZE_CONTEXT_MAX_TOKENS=40000
BRONZE_USAGE_VISION_DAILY=3
BRONZE_USAGE_VISION_MONTHLY=20
BRONZE_USAGE_DIALER_DAILY=40
BRONZE_USAGE_DIALER_MONTHLY=300
BRONZE_USAGE_WHISPER_DAILY=15
BRONZE_USAGE_WHISPER_MONTHLY=70

# --- Silver Tier ---
SILVER_DIALER_PRIMARY_MODEL="anthropic/claude-sonnet-4"
SILVER_DIALER_FALLBACK_MODELS="x-ai/grok-3"
SILVER_DIALER_REASONING_EFFORT="medium"
SILVER_VISION_PRIMARY_MODEL="openai/gpt-4.1"
SILVER_VISION_FALLBACK_MODELS=
SILVER_CONTEXT_TTL_SECONDS=7200
SILVER_CONTEXT_MAX_MESSAGES=40
SILVER_CONTEXT_MAX_TOKENS=70000
SILVER_USAGE_VISION_DAILY=7
SILVER_USAGE_VISION_MONTHLY=35
SILVER_USAGE_DIALER_DAILY=150
SILVER_USAGE_DIALER_MONTHLY=600
SILVER_USAGE_WHISPER_DAILY=30
SILVER_USAGE_WHISPER_MONTHLY=170

# --- Gold Tier ---
GOLD_DIALER_PRIMARY_MODEL="anthropic/claude-opus-4.1"
GOLD_DIALER_FALLBACK_MODELS="google/gemini-2.5-pro,x-ai/grok-4"
GOLD_DIALER_REASONING_EFFORT="high"
GOLD_VISION_PRIMARY_MODEL="openai/o1"
GOLD_VISION_FALLBACK_MODELS=
GOLD_CONTEXT_TTL_SECONDS=21600
GOLD_CONTEXT_MAX_MESSAGES=60
GOLD_CONTEXT_MAX_TOKENS=160000
GOLD_USAGE_VISION_DAILY=20
GOLD_USAGE_VISION_MONTHLY=100
GOLD_USAGE_DIALER_DAILY=300
GOLD_USAGE_DIALER_MONTHLY=1500
GOLD_USAGE_WHISPER_DAILY=140
GOLD_USAGE_WHISPER_MONTHLY=300

# ==============================================================================
# Proxy Configuration
# ==============================================================================
# This section contains settings for the proxy server.

PROXY_ADDRESS=localhost:9050
PROXY_USER=admin
PROXY_PASS=admin