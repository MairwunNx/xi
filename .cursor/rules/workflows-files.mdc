---
globs: .github/workflows/*.yml, .github/workflows/*.yaml
---

# GitHub Workflows Rules

## Основные принципы
- Декларативность: минимизируйте сложную логику в bash, используйте готовые экшены и переиспользуемые workflow.
- Производительность: кэширование, матрицы, параллелизм, точные триггеры, короткие checkout’ы.
- Безопасность: наименьшие привилегии, pin экшенов по SHA, секреты только через `secrets`, защищённые среды.
- Надёжность: `fail-fast`, лимиты времени, ретраи критичных шагов, детерминированность сборок.

---

## Именование и структура
- **Имена файлов/воркфлоу**: осознанные и стабильные, `name` отражает назначение.
- **Один воркфлоу — одна цель**: сборка, тесты, релиз, линт — разделяйте.
- **Локальная логика → composite actions** (`.github/actions/...`) или **reusable workflows**.
- Общие константы/стратегии — в `workflow_call` с входными параметрами.